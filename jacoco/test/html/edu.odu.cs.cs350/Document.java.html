<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Document.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">project</a> &gt; <a href="index.source.html" class="el_package">edu.odu.cs.cs350</a> &gt; <span class="el_source">Document.java</span></div><h1>Document.java</h1><pre class="source lang-java linenums">package edu.odu.cs.cs350;

import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * IdentifyBlock class.
 */
public class Document {

    /**
     * Data obtained from file.
     */
    private String dataFromFile;

    /**
     * List of object Textblocks from file.
     */
    private List&lt;TextBlock&gt; blocks;

    /**
     * Constructor.
     */
<span class="fc" id="L28">    public Document() {</span>
<span class="fc" id="L29">        this.dataFromFile = &quot;&quot;;</span>
<span class="fc" id="L30">        this.blocks = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L31">    }</span>

    /**
     * Constructor with data param.
     * 
     * @param data data
     */
<span class="fc" id="L38">    public Document(String data) {</span>
<span class="fc" id="L39">        this.dataFromFile = data;</span>
<span class="fc" id="L40">        this.blocks = createBlocks(data);</span>
<span class="fc" id="L41">    }</span>

    /**
     * Getter for dataFromFile.
     * 
     * @return data from file
     */
    public String getDataFromFile() {
<span class="fc" id="L49">        return this.dataFromFile;</span>
    }

    /**
     * Getter for nerBlocks.
     * 
     * @return ner blocks
     */
    public List&lt;TextBlock&gt; getBlocks() {
<span class="fc" id="L58">        return this.blocks;</span>
    }

    /**
     * Setter for dataFromFile.
     * 
     * @param data data to set
     */
    public void setDataFromFile(String data) {
<span class="nc" id="L67">        this.dataFromFile = data;</span>
<span class="nc" id="L68">    }</span>

    // /**
    // * Reads input and stores it in string
    // *
    // * @throws Exception
    // */
    // public void readInput() throws Exception {
    // Scanner scanner = new Scanner(new InputStreamReader(System.in, &quot;UTF-8&quot;));
    // scanner.useDelimiter(&quot;\\A&quot;);
    // String content = scanner.next();
    // this.dataFromFile = content;
    // scanner.close();
    // }

    /**
     * Method to identify tagged blocks of text.
     * 
     * @param data text
     * @return taggedBlocks
     */
    public List&lt;TextBlock&gt; createBlocks(String data) {
<span class="fc" id="L90">        List&lt;TextBlock&gt; taggedBlocks = new ArrayList&lt;&gt;();</span>

        // Define pattern to identify blocks of text
<span class="fc" id="L93">        Pattern pattern = Pattern.compile(&quot;&lt;NER&gt;.*?&lt;/NER&gt;&quot;, Pattern.DOTALL);</span>
<span class="fc" id="L94">        Matcher match = pattern.matcher(data);</span>

        // Find patterns and adds them to the list
<span class="fc bfc" id="L97" title="All 2 branches covered.">        while (match.find()) {</span>
<span class="fc" id="L98">            String blockText = match.group();</span>
<span class="fc" id="L99">            TextBlock AddMe = new TextBlock(blockText);</span>
<span class="fc" id="L100">            taggedBlocks.add(AddMe);</span>
<span class="fc" id="L101">        }</span>

<span class="fc" id="L103">        return taggedBlocks;</span>
    }

    /**
     * Output text blocks.
     */
    public void printDocument() {
        // Create output list
<span class="fc" id="L111">        List&lt;String&gt; output = new ArrayList&lt;&gt;();</span>

        // Get text blocks for list
<span class="fc" id="L114">        blocks = getBlocks();</span>

        // Loop for adding blocks to output
<span class="fc bfc" id="L117" title="All 2 branches covered.">        for (TextBlock Block : blocks) {</span>
            // Get text block to add to output
<span class="fc" id="L119">            String BlockString = Block.toString();</span>
            // Add text block to output list
<span class="fc" id="L121">            output.add(BlockString);</span>
<span class="fc" id="L122">        }</span>

        // Loop for outputting Strings
<span class="fc bfc" id="L125" title="All 2 branches covered.">        for (String string : output) {</span>
            // Output each text block from output list
<span class="fc" id="L127">            System.out.println(string);</span>
<span class="fc" id="L128">        }</span>
<span class="fc" id="L129">    }</span>
    /**
     * print document with personal names tagged with PER
     */
    public void printDocumentWithPersonalNamesTag() {
        // Create output list
        // List&lt;String&gt; output = new ArrayList&lt;&gt;();

<span class="nc" id="L137">        blocks = getBlocks();</span>

<span class="nc bnc" id="L139" title="All 2 branches missed.">        for (TextBlock block : blocks) {</span>
<span class="nc" id="L140">            List&lt;Token&gt; tokens = block.getTokensList();</span>
<span class="nc" id="L141">            StringBuilder output = new StringBuilder();</span>

<span class="nc" id="L143">            boolean previousTokenWasPunctuation = false; // Track if the previous token was punctuation</span>

<span class="nc bnc" id="L145" title="All 2 branches missed.">            for (Token token : tokens) {</span>
<span class="nc" id="L146">                String personalName = token.detectPersonalName();</span>

                // Append a space if the previous token was not punctuation and the current
                // token is not punctuation
<span class="nc bnc" id="L150" title="All 4 branches missed.">                if (!previousTokenWasPunctuation &amp;&amp; !token.isPunctuation()) {</span>
<span class="nc" id="L151">                    output.append(&quot; &quot;);</span>
                }

<span class="nc" id="L154">                output.append(personalName);</span>

                // Update the flag for the next iteration
<span class="nc" id="L157">                previousTokenWasPunctuation = token.isPunctuation();</span>
<span class="nc" id="L158">            }</span>

            // Trim the output string to remove any leading or trailing spaces
<span class="nc" id="L161">            System.out.println(output.toString().trim());</span>
<span class="nc" id="L162">        }</span>

<span class="nc" id="L164">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>